<!DOCTYPE html>
<html>
<head><title>Gemini API Test</title></head>
<body style="font-family: Arial; padding: 20px; max-width: 600px; margin: 0 auto;">
  <h2>üß™ Gemini API Test</h2>
  <div style="margin-bottom: 15px;">
    <label>API Key:</label><br>
    <input type="password" id="apiKey" style="width: 100%; padding: 8px; margin-top: 5px;" placeholder="Enter your Gemini API key">
  </div>
  <div style="margin-bottom: 15px;">
    <label>Model:</label><br>
    <select id="model" style="width: 100%; padding: 8px; margin-top: 5px;">
      <option value="gemini-1.5-flash">gemini-1.5-flash (Fast)</option>
      <option value="gemini-1.5-pro">gemini-1.5-pro (Powerful)</option>
      <option value="gemini-pro">gemini-pro (Legacy)</option>
    </select>
  </div>
  <button onclick="testGemini()" style="padding: 10px 20px; background: #4285f4; color: white; border: none; border-radius: 5px; cursor: pointer;">Test Connection</button>
  <div id="result" style="margin-top: 20px; padding: 15px; background: #f5f5f5; border-radius: 5px; white-space: pre-wrap;"></div>

  <script>
    async function testGemini() {
      const apiKey = document.getElementById('apiKey').value;
      const model = document.getElementById('model').value;
      const result = document.getElementById('result');
      
      if (!apiKey) { result.innerHTML = '‚ùå Please enter an API key'; return; }
      
      result.innerHTML = '‚è≥ Testing connection...';
      
      try {
        const resp = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${model}:generateContent?key=${apiKey}`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            contents: [{ role: 'user', parts: [{ text: 'Say "Hello from Gemini!" and nothing else.' }] }],
            generationConfig: { maxOutputTokens: 50 }
          })
        });
        
        const data = await resp.json();
        
        if (data.error) {
          result.innerHTML = '‚ùå Error: ' + (data.error.message || JSON.stringify(data.error));
        } else if (data.candidates?.[0]?.content?.parts?.[0]?.text) {
          result.innerHTML = '‚úÖ SUCCESS!\n\nResponse: ' + data.candidates[0].content.parts[0].text;
        } else {
          result.innerHTML = '‚ö†Ô∏è Unexpected response:\n' + JSON.stringify(data, null, 2);
        }
      } catch (e) {
        result.innerHTML = '‚ùå Network Error: ' + e.message;
      }
    }
  </script>
</body>
</html>
