# Use Case 2: AI-Powered Chart of Accounts Mapping

This use case demonstrates how to use the `AIAgent` in the `Book` library to analyze a new chart of accounts (CoA) and suggest mappings to a standard CoA. It highlights the following features:

*   `AIAgent` for intelligent suggestions.
*   Configuration of the agent to use specific skills.
*   Leveraging a knowledge base (simulated by a skill file) to provide context-aware recommendations.

## Files

*   `new_coa.csv`: The input data, a simple chart of accounts that needs to be mapped.
*   `map_coa.py`: The Python script that implements the use case.
*   `../skills/financial-analyst.json`: A dummy skill file that the agent uses to provide mapping suggestions.

## Step-by-Step Instructions

### 1. Set up the Environment

First, make sure you have the `Book` library and its dependencies installed. From the `Book` directory, run:

```bash
poetry install
```

### 2. Run the Script

Navigate to the `Book/use_cases/02_ai_coa_mapping` directory and run the `map_coa.py` script:

```bash
python map_coa.py
```

### 3. What's Happening?

When you run the script, it performs the following steps:

1.  **Ingests Data:** The script reads the `new_coa.csv` file.
2.  **Builds Hierarchy:** It creates a `Book` object representing the new chart of accounts.
3.  **Configures AI Agent:** An `AIAgentConfig` is created to tell the agent to use the `financial-analyst` skill. An `AIAgent` is then initialized with this configuration.
4.  **Gets Suggestions:** The `suggest_enhancements` method is called on the agent. The agent loads the `financial-analyst` skill and uses the information in it to analyze the `Book`.
5.  **Prints Suggestions:** The script prints the suggestions generated by the agent. In this case, the agent will suggest mappings based on the `mappings` defined in the `financial-analyst.json` file.

### Expected Output

You should see the following output in your terminal:

```
INFO:__main__:Starting AI-powered CoA mapping use case...
INFO:__main__:Ingesting data from new_coa.csv...
INFO:__main__:Building the hierarchy for the new CoA...
INFO:__main__:Configuring and running the AI Agent...
INFO:__main__:Getting suggestions from the AI Agent...
INFO:__main__:AI Agent Suggestions:
- Consider adding a 'Gross Margin' formula if this is a financial report.
```

This use case demonstrates how the `AIAgent` can be used to automate and accelerate the process of data analysis and mapping by leveraging pre-defined skills and knowledge.
